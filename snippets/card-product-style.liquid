<div class="card-wrapper product-card-wrapper underline-links-hover">
  <div
    class="
      card card--standard
      {% if card_product.featured_media %} card--media{% else %} card--text{% endif %}
      {% if settings.card_style == 'card' %} card__padding color-{{ settings.card_color_scheme }} gradient{% endif %}
      {% if image_shape and image_shape != 'default' %} card--shape{% endif %}
      {% if extend_height %} card--extend-height{% endif %}
      {% if card_product.featured_media == nil and settings.card_style == 'card' %} ratio{% endif %}
      {% if horizontal_class %} card--horizontal{% endif %}
    "
    style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;"
  >
    <div
      class="card__inner {% if settings.card_style == 'standard' %}color-{{ settings.card_color_scheme }} gradient{% endif %}{% if card_product.featured_media or settings.card_style == 'standard' %} ratio{% endif %}"
      style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;"
    >
      {%- if card_product.featured_media -%}
        {%- if show_slider_image and card_product.media[1] -%}
          <div class="card__media card__media--slider{% if image_shape and image_shape != 'default' %} shape--{{ image_shape }} color-{{ settings.card_color_scheme }} gradient{% endif %}">
            <slider-component-image class="slider-mobile-gutter {% if show_desktop_slider == false %} page-width-desktop{% endif %}{% if show_desktop_slider %} slider-component-image-desktop{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
              <ul
                id="SliderImage-{{ section.id }}-{{ card_product.handle }}"
                class="grid grid--1-col-desktop grid--1-col-tablet-down slider slider--desktop slider--tablet grid--peek"
                role="list"
                aria-label="{{ 'general.slider.name' | t }}"
              >
                {%- for media in card_product.media -%}
                  <li
                    id="Slideritem-{{ section.id }}-{{ media.id }}"
                    class="product__media-item grid__item multislider slider__slide{% if single_media_visible %} product__media-item--single{% endif %}{% if product.selected_or_first_available_variant.featured_media == null and forloop.index == 1 %} is-active{% endif %}{% if media.media_type != 'image' %} product__media-item--full{% endif %}{% if section.settings.hide_variants and variant_images contains media.src %} product__media-item--variant{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--fade-in{% endif %}"
                    data-media-id="{{ section.id }}-{{ media.id }}"
                  >
                    <div class="media media--transparent">
                      {%- liquid
                        assign columns_desktop = columns_desktop | default: 4
                        assign columns_tablet = columns_tablet | default: 3
                        assign columns_mobile = columns_mobile | default: 2
                        assign grid_space_desktop = columns_desktop | minus: 1 | times: settings.spacing_grid_horizontal | plus: 100 | append: 'px'
                        assign grid_space_tablet = columns_tablet | minus: 1 | times: settings.spacing_grid_horizontal | plus: 100 | append: 'px'
                        assign grid_space_mobile = columns_mobile | minus: 1 | times: settings.spacing_grid_horizontal | divided_by: 2 | plus: 30 | append: 'px'
                      -%}
                      <img
                        srcset="
                          {%- if media.preview_image.width >= 165 -%}{{ media.preview_image | image_url: width: 165 }} 165w,{%- endif -%}
                          {%- if media.preview_image.width >= 360 -%}{{ media.preview_image | image_url: width: 360 }} 360w,{%- endif -%}
                          {%- if media.preview_image.width >= 533 -%}{{ media.preview_image | image_url: width: 533 }} 533w,{%- endif -%}
                          {%- if media.preview_image.width >= 720 -%}{{ media.preview_image | image_url: width: 720 }} 720w,{%- endif -%}
                          {%- if media.preview_image.width >= 940 -%}{{ media.preview_image | image_url: width: 940 }} 940w,{%- endif -%}
                          {%- if media.preview_image.width >= 1066 -%}{{ media.preview_image | image_url: width: 1066 }} 1066w,{%- endif -%}
                          {{ media.preview_image | image_url }} {{ media.preview_image.width }}w
                        "
                        src="{{ media.preview_image | image_url: width: 533 }}"
                        sizes="(min-width: {{ settings.page_width }}px) calc(({{ settings.page_width }}px - {{ grid_space_desktop }}) / {{ columns_desktop }}), (min-width: 990px) calc((100vw - {{ grid_space_desktop }}) / {{ columns_desktop }}), (min-width: 750px) calc((100vw - {{ grid_space_tablet }}) / {{ columns_tablet }}), calc((100vw - {{ grid_space_mobile }}) / {{ columns_mobile }})"
                        alt="{{ media.preview_image.alt | escape }}"
                        {% unless lazy_load == false %}
                          loading="lazy"
                        {% endunless %}
                        width="{{ media.preview_image.width }}"
                        height="{{ media.preview_image.height }}"
                      >
                    </div>
                  </li>
                {%- endfor -%}
              </ul>
              <div class="slider-buttons multislider no-js-hidden">
                <button
                  type="button"
                  class="slider-button slider-button--prev"
                  name="previousimage"
                  aria-label="{{ 'general.slider.previous_slide' | t }}"
                  aria-controls="SliderImage-{{ section.id }}-{{ card_product.handle }}"
                >
                  {% render 'icon-caret' %}
                </button>
                <button
                  type="button"
                  class="slider-button slider-button--next"
                  name="nextimage"
                  aria-label="{{ 'general.slider.next_slide' | t }}"
                  aria-controls="SliderImage-{{ section.id }}-{{ card_product.handle }}"
                >
                  {% render 'icon-caret' %}
                </button>
              </div>
            </slider-component-image>
          </div>
        {%- else -%}
          <div class="card__media{% if image_shape and image_shape != 'default' %} shape--{{ image_shape }} color-{{ settings.card_color_scheme }} gradient{% endif %}">
            <div class="media media--transparent media--hover-effect">
              {% comment %}theme-check-disable ImgLazyLoading{% endcomment %}
              {%- liquid
                assign columns_desktop = columns_desktop | default: 4
                assign columns_tablet = columns_tablet | default: 3
                assign columns_mobile = columns_mobile | default: 2
                assign grid_space_desktop = columns_desktop | minus: 1 | times: settings.spacing_grid_horizontal | plus: 100 | append: 'px'
                assign grid_space_tablet = columns_tablet | minus: 1 | times: settings.spacing_grid_horizontal | plus: 100 | append: 'px'
                assign grid_space_mobile = columns_mobile | minus: 1 | times: settings.spacing_grid_horizontal | divided_by: 2 | plus: 30 | append: 'px'
              -%}
              <img
                srcset="
                  {%- if card_product.featured_media.width >= 165 -%}{{ card_product.featured_media | image_url: width: 165 }} 165w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 360 -%}{{ card_product.featured_media | image_url: width: 360 }} 360w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 533 -%}{{ card_product.featured_media | image_url: width: 533 }} 533w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 720 -%}{{ card_product.featured_media | image_url: width: 720 }} 720w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 940 -%}{{ card_product.featured_media | image_url: width: 940 }} 940w,{%- endif -%}
                  {%- if card_product.featured_media.width >= 1066 -%}{{ card_product.featured_media | image_url: width: 1066 }} 1066w,{%- endif -%}
                  {{ card_product.featured_media | image_url }} {{ card_product.featured_media.width }}w
                "
                src="{{ card_product.featured_media | image_url: width: 533 }}"
                sizes="(min-width: {{ settings.page_width }}px) calc(({{ settings.page_width }}px - {{ grid_space_desktop }}) / {{ columns_desktop }}), (min-width: 990px) calc((100vw - {{ grid_space_desktop }}) / {{ columns_desktop }}), (min-width: 750px) calc((100vw - {{ grid_space_tablet }}) / {{ columns_tablet }}), calc((100vw - {{ grid_space_mobile }}) / {{ columns_mobile }})"
                alt="{{ card_product.featured_media.alt | escape }}"
                class="motion-reduce"
                {% unless lazy_load == false %}
                  loading="lazy"
                {% endunless %}
                width="{{ card_product.featured_media.width }}"
                height="{{ card_product.featured_media.height }}"
              >
              {% comment %}theme-check-enable ImgLazyLoading{% endcomment %}

              {%- if card_product.media[1] != null and show_secondary_image -%}
                <img
                  srcset="
                    {%- if card_product.media[1].width >= 165 -%}{{ card_product.media[1] | image_url: width: 165 }} 165w,{%- endif -%}
                    {%- if card_product.media[1].width >= 360 -%}{{ card_product.media[1] | image_url: width: 360 }} 360w,{%- endif -%}
                    {%- if card_product.media[1].width >= 533 -%}{{ card_product.media[1] | image_url: width: 533 }} 533w,{%- endif -%}
                    {%- if card_product.media[1].width >= 720 -%}{{ card_product.media[1] | image_url: width: 720 }} 720w,{%- endif -%}
                    {%- if card_product.media[1].width >= 940 -%}{{ card_product.media[1] | image_url: width: 940 }} 940w,{%- endif -%}
                    {%- if card_product.media[1].width >= 1066 -%}{{ card_product.media[1] | image_url: width: 1066 }} 1066w,{%- endif -%}
                    {{ card_product.media[1] | image_url }} {{ card_product.media[1].width }}w
                  "
                  src="{{ card_product.media[1] | image_url: width: 533 }}"
                  sizes="(min-width: {{ settings.page_width }}px) calc(({{ settings.page_width }}px - {{ grid_space_desktop }}) / {{ columns_desktop }}), (min-width: 990px) calc((100vw - {{ grid_space_desktop }}) / {{ columns_desktop }}), (min-width: 750px) calc((100vw - {{ grid_space_tablet }}) / {{ columns_tablet }}), calc((100vw - {{ grid_space_mobile }}) / {{ columns_mobile }})"
                  alt=""
                  class="motion-reduce"
                  loading="lazy"
                  width="{{ card_product.media[1].width }}"
                  height="{{ card_product.media[1].height }}"
                >
              {%- endif -%}
            </div>
          </div>
        {%- endif -%}
      {%- endif -%}
      <div class="card__content">
        <a
          href="{{ card_product.url }}"
          class="link--media"
          aria-labelledby="CardLink-{{ section_id }}-{{ card_product.id }} Badge-{{ section_id }}-{{ card_product.id }}"
        ></a>
        <div class="card__badge {{ settings.badge_position }}">
          {%- liquid
            assign date_published = card_product.published_at | date: '%s'
            assign date_now = 'now' | date: '%s'
            assign date_minus = date_now | minus: date_published
            assign date_difference = date_minus | divided_by: 86400
            assign new_badge_limit = settings.new_badge_limit_produtct
            assign new_badge_time = settings.new_badge_limit_time
          -%}
          {%- if date_difference < new_badge_time -%}
            <span
              id="NoMediaStandardBadgeN-{{ section_id }}-{{ card_product.id }}"
              class="badge badge--bottom-left badge-new"
            >
              {{- 'products.product.new' | t -}}
            </span>
          {%- endif -%}
          {%- if card_product.available == false -%}
            <span
              id="NoMediaStandardBadge-{{ section_id }}-{{ card_product.id }}"
              class="badge badge--bottom-left badge-sold"
            >
              {{- 'products.product.sold_out' | t -}}
            </span>
          {%- endif -%}
          {%- if card_product.compare_at_price > card_product.price -%}
            {%- if settings.badge_sale_type == 'percent' -%}
              {%- assign savings = card_product.compare_at_price
                | minus: card_product.price
                | times: 100.0
                | divided_by: card_product.compare_at_price
                | times: -1
                | round
                | append: '%'
              -%}
            {%- else -%}
              {%- capture savings -%}{{- 'products.product.on_sale' | t -}}{%- endcapture -%}
            {%- endif -%}
            <span
              id="NoMediaStandardBadge-{{ section_id }}-{{ card_product.id }}"
              class="badge badge--bottom-left badge-sale"
            >
              {{ savings }}
            </span>
          {%- endif -%}
        </div>
        {%- if settings.enable_wishlist or settings.enable_quick_view -%}
          <div class="card__feature card__feature--{{ settings.feature_type }}">
            {%- if settings.enable_quick_view -%}
              <div class="quick-add no-js-hidden">
                {%- liquid
                  assign product_form_id = 'quick-add-' | append: section_id | append: card_product.id
                  assign qty_rules = false
                  assign check = true
                  if card_product.selected_or_first_available_variant.quantity_rule.min > 1 or card_product.selected_or_first_available_variant.quantity_rule.max != null or card_product.selected_or_first_available_variant.quantity_rule.increment > 1
                    assign qty_rules = true
                  endif
                -%}
                <modal-opener data-modal="#QuickAdd-{{ card_product.id }}">
                  <button
                    id="{{ product_form_id }}-submit"
                    type="submit"
                    name="add"
                    class="icon__feature quick-view {% if horizontal_quick_add %} card--horizontal__quick-add animate-arrow{% endif %}"
                    aria-haspopup="dialog"
                    aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ card_product.id }}"
                    data-product-url="{{ card_product.url }}"
                  >
                    <label class="featured__label">
                      {{ 'products.product.quickview' | t }}
                    </label>
                    {% render 'icon' with 'eye' %}
                    {%- if horizontal_quick_add -%}
                      <span class="icon-wrap">{% render 'icon-arrow' %}</span>
                    {%- endif -%}
                    {%- render 'loading-spinner' -%}
                  </button>
                </modal-opener>
                <quick-add-modal id="QuickAdd-{{ card_product.id }}" class="quick-add-modal">
                  <div
                    role="dialog"
                    aria-label="{{ 'products.product.choose_product_options' | t: product_name: card_product.title | escape }}"
                    aria-modal="true"
                    class="quick-add-modal__content global-settings-popup"
                    tabindex="-1"
                  >
                    <button
                      id="ModalClose-{{ card_product.id }}"
                      type="button"
                      class="quick-add-modal__toggle"
                      aria-label="{{ 'accessibility.close' | t }}"
                    >
                      {% render 'icon-close' %}
                    </button>
                    <div id="QuickAddInfo-{{ card_product.id }}" class="quick-add-modal__content-info"></div>
                  </div>
                </quick-add-modal>
              </div>
            {%- endif -%}
            {%- if settings.enable_wishlist -%}
              <wish-list class="wishlist">
                <wish-list-icon data-productID="{{ card_product.id }}" class="icon__feature">
                  <label class="featured__label">
                    {{ 'products.product.wishlist' | t }}
                  </label>
                  {% render 'icon' with 'wishlist' %}
                </wish-list-icon>
              </wish-list>
            {%- endif -%}
          </div>
        {%- endif -%}
        {%- if show_quick_add -%}
          {% render 'form-add-to-cart', card_product: card_product %}
        {%- endif -%}
      </div>
    </div>
    <div class="card__content">
      <div class="card__information">
        <div class="card__information-top">
          {%- if show_vendor -%}
            <span class="visually-hidden">{{ 'accessibility.vendor' | t }}</span>
            <div class="caption-with-letter-spacing light card__vendor">{{ card_product.vendor }}</div>
          {%- endif -%}
          <h3
            class="card__heading{% if settings.line_text != 'full' %} card__heading--line{% endif %}{% if card_product.featured_media or settings.card_style == 'standard' %} h5{% endif %}"
            {% if card_product.featured_media or settings.card_style == 'card' %}
              id="title-{{ section_id }}-{{ card_product.id }}"
            {% endif %}
          >
            <a
              href="{{ card_product.url }}"
              id="CardLink-{{ section_id }}-{{ card_product.id }}"
              class="full-unstyled-link"
              aria-labelledby="CardLink-{{ section_id }}-{{ card_product.id }} Badge-{{ section_id }}-{{ card_product.id }}"
            >
              {{ card_product.title | escape }}
            </a>
          </h3>
          <div class="card-information">
            <span class="caption-large light">{{ block.settings.description | escape }}</span>

            {%- if show_rating -%}
              {%- if card_product.metafields.judgeme.badge != blank -%}
                {% liquid
                  assign rating_decimal = 0
                  assign decimal = card_product.metafields.reviews.rating.value.rating | modulo: 1
                  if decimal >= 0.3 and decimal <= 0.7
                    assign rating_decimal = 0.5
                  elsif decimal > 0.7
                    assign rating_decimal = 1
                  endif
                %}
                <div
                  class="rating jdgm-rev-widg__summary-stars"
                  role="img"
                  aria-label="{{ 'accessibility.star_reviews_info' | t: rating_value: card_product.metafields.reviews.rating.value, rating_max: card_product.metafields.reviews.rating.value.scale_max }}"
                >
                  {{ card_product.metafields.judgeme.badge }}
                  <p class="rating-text caption">
                    <span>
                      {{- card_product.metafields.reviews.rating.value }}
                    </span>
                  </p>
                </div>
              {%- else -%}
                <div
                  class="rating jdgm-rev-widg__summary-stars"
                  role="img"
                  aria-label="{{ 'accessibility.star_reviews_info' | t: rating_value: product.metafields.reviews.rating.value, rating_max: product.metafields.reviews.rating.value.scale_max }}"
                >
                  {%- for i in (1..5) -%}
                    <span class="jdgm-star jdgm--off"></span>
                  {%- endfor -%}
                  <p class="rating-text caption">
                    <span> 0.0 </span>
                  </p>
                </div>
              {%- endif -%}
            {%- endif -%}

            {% render 'price', product: card_product, price_class: '', show_compare_at_price: true %}
            {%- if card_product.quantity_price_breaks_configured? -%}
              <div class="card__information-volume-pricing-note">
                <span class="caption">{{ 'products.product.volume_pricing.note' | t }}</span>
              </div>
            {%- endif -%}
            {%- if enable_short_desc -%}
              {%- if short_option_content == 'all' -%}
                {% assign short_description = short_content %}
              {%- else -%}
                {% assign short_description = card_product.metafields.custom.short_description %}
              {%- endif -%}
              {%- if short_description != blank -%}
                <div class="short_description">
                  {{ short_description }}
                </div>
              {%- endif -%}
            {%- endif -%}
          </div>
          <div class="card-swatch">
            {%- if settings.product_color_display != 'hide' -%}
              {%- for color_label in option_swatch -%}
                {%- if card_product.options_by_name[color_label] != blank -%}
                  {%- assign product_option = card_product.options_by_name[color_label] -%}
                  {%- if product_option.values.size > 0 and product_option.values.size != blank -%}
                    {%- case settings.product_color_display -%}
                      {%- when 'count' -%}
                        <p class="product-item-meta__color-count">
                          {{- 'products.product.available_colors_count' | t: count: product_option.values.size -}}
                        </p>

                      {%- when 'swatch' -%}
                        <div class="product-item-meta__swatch-list color-swatch-list color-swatch-list--mini">
                          {%- assign variant_option = 'option' | append: product_option.position -%}
                          {%- assign color_swatch_config = settings.color_swatch_config
                            | newline_to_br
                            | split: '<br />'
                          -%}

                          {%- capture color_name -%}{{ section.id }}-{{ block.id }}-{{ product.id }}{%- endcapture -%}

                          {%- for value in product_option.values -%}
                            {%- capture color_id -%}{{ color_name }}-{{ forloop.index }}{%- endcapture -%}
                            {%- assign color_value_downcase = value | downcase -%}
                            {%- assign variant_for_value = card_product.variants
                              | where: variant_option, value
                              | first
                            -%}
                            {%- liquid
                              assign option_position0 = product_option.position | minus: 1
                              assign variant_image = blank
                              if settings.variant_image
                                for variant in card_product.variants
                                  if variant.options[option_position0] == value
                                    assign variant_image = variant.featured_media
                                    break
                                  endif
                                endfor
                              endif
                            -%}

                            <div class="color-swatch {% if color_white_label == color_value_downcase %}color-swatch--white{% endif %}">
                              <input
                                class="color-swatch__radio visually-hidden"
                                type="radio"
                                name="{{ color_name }}"
                                id="{{ color_id }}"
                                value="{{ value | escape }}"
                                {% if product_option.selected_value == value %}
                                  checked="checked"
                                {% endif %}
                                data-variant-id="{{ variant_for_value.id }}"
                                {% if variant_for_value.featured_media %}
                                  data-variant-featured-media="{{ variant_for_value.featured_media.id }}"
                                {% endif %}
                              >
                              <label
                                class="color-swatch__item"
                                for="{{ color_id }}"
                                style="
                                                                  {% if variant_image != blank %}
                                  background-image: url({{ variant_image | img_url: '64x64' }})
                                  {% else %}
                                  {% render 'color-swatch-style', color_swatch_config: color_swatch_config, value: value %}
                                  {% endif %}
                                "
                              >
                                <span class="visually-hidden">{{ value }}</span>
                              </label>
                            </div>
                          {%- endfor -%}
                        </div>
                    {%- endcase -%}
                  {%- endif -%}
                  {%- break -%}
                {%- endif -%}
              {%- endfor -%}
            {%- endif -%}
          </div>
        </div>
        <div class="card__feature card__feature_bottom card__information-bottom">
          {%- if show_quick_add -%}
            <a
              class="quick-add__submit button icon__feature {% if card_product.selected_or_first_available_variant.available == false %}disabled{% endif %}"
              href="{{ card_product.url }}"
            >
              {% render 'icon' with 'cart' %}
            </a>
          {%- endif -%}
        </div>
      </div>
      {%- if element_view_list -%}
        {% assign product_form_id = product_form_id | append: 'list' %}
        {%- if settings.enable_wishlist or show_quick_add -%}
          <div class="card__feature--hozi" style="display: none">
            {% render 'price', product: card_product, price_class: '', show_compare_at_price: true %}
            <div class="card__grouped">
              {%- if show_quick_add -%}
                <div class="quick__shop">
                  {% assign variantCount = card_product.variants | size %}
                  {%- if variantCount > 1 and card_product.variants.first.title != 'Default Title' -%}
                    <a
                      class="quick-add__submit button button--full-width {% if card_product.selected_or_first_available_variant.available == false %}disabled{% endif %}"
                      href="{{ card_product.url }}"
                    >
                      <span>
                        {% if card_product.selected_or_first_available_variant.available == false %}
                          {{ 'products.product.sold_out' | t }}
                        {% else %}
                          {{ 'products.product.select_options' | t }}
                        {% endif %}
                      </span>
                    </a>
                  {%- else -%}
                    <product-form data-section-id="{{ section.id }}">
                      {%- form 'product',
                        card_product,
                        id: product_form_id,
                        class: 'form',
                        novalidate: 'novalidate',
                        data-type: 'add-to-cart-form'
                      -%}
                        <input
                          type="hidden"
                          name="id"
                          value="{{ card_product.selected_or_first_available_variant.id }}"
                          class="product-variant-id"
                          {% if card_product.selected_or_first_available_variant.available == false %}
                            disabled
                          {% endif %}
                        >
                        <div class="top">
                          <div class="price-per-item__container">
                            <quantity-input
                              class="quantity"
                              data-url="{{ card_product.url }}"
                              data-section="{{ section.id }}"
                            >
                              <button class="quantity__button no-js-hidden" name="minus" type="button">
                                <span class="visually-hidden">
                                  {{-
                                    'products.product.quantity.decrease'
                                    | t: card_product: card_product.title
                                    | escape
                                  -}}
                                </span>
                                <span class="icon__button">
                                  {% render 'icon-minus' %}
                                </span>
                              </button>
                              <input
                                class="quantity__input"
                                type="number"
                                name="quantity"
                                id="Quantity-{{ section.id }}"
                                data-cart-quantity="{{ cart_qty }}"
                                data-min="{{ card_product.selected_or_first_available_variant.quantity_rule.min }}"
                                min="{{ card_product.selected_or_first_available_variant.quantity_rule.min }}"
                                {% if card_product.selected_or_first_available_variant.quantity_rule.max != null %}
                                  data-max="{{ card_product.selected_or_first_available_variant.quantity_rule.max }}"
                                  max="{{ card_product.selected_or_first_available_variant.quantity_rule.max }}"
                                {% endif %}
                                step="{{ card_product.selected_or_first_available_variant.quantity_rule.increment }}"
                                value="{{ card_product.selected_or_first_available_variant.quantity_rule.min }}"
                                form="{{ product_form_id }}"
                              >
                              <button class="quantity__button no-js-hidden" name="plus" type="button">
                                <span class="visually-hidden">
                                  {{-
                                    'products.product.quantity.increase'
                                    | t: card_product: card_product.title
                                    | escape
                                  -}}
                                </span>
                                <span class="icon__button">
                                  {% render 'icon-plus' %}
                                </span>
                              </button>
                            </quantity-input>
                          </div>
                          {%- if settings.enable_wishlist -%}
                            <wish-list class="wishlist">
                              <wish-list-icon
                                data-productID="{{ card_product.id }}"
                                class="icon__feature link link-decoration"
                              >
                                {% render 'icon' with 'wishlist' %}
                              </wish-list-icon>
                            </wish-list>
                          {%- endif -%}
                        </div>
                        <button
                          id="{{ product_form_id }}-submit"
                          type="submit"
                          name="add"
                          class="quick-add__submit button button--full-width"
                          aria-haspopup="dialog"
                          aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ card_product.id }}"
                          aria-live="polite"
                          data-sold-out-message="true"
                          {% if card_product.selected_or_first_available_variant.available == false %}
                            disabled
                          {% endif %}
                        >
                          <span>
                            {%- if card_product.selected_or_first_available_variant.available == false
                              or quantity_rule_soldout
                            -%}
                              {{ 'products.product.sold_out' | t }}
                            {%- else -%}
                              {{ 'products.product.add_to_cart' | t }}
                            {%- endif -%}
                          </span>
                          <span class="sold-out-message hidden">
                            {{ 'products.product.sold_out' | t }}
                          </span>
                          {%- render 'loading-spinner' -%}
                        </button>
                      {%- endform -%}
                    </product-form>
                  {%- endif -%}
                </div>
              {%- endif -%}
            </div>
            {%- if show_quick_add -%}
              <div class="quick-add no-js-hidden">
                {%- liquid
                  assign product_form_id = 'quick-add-' | append: section_id | append: card_product.id
                  assign qty_rules = false
                  assign check = true
                  if card_product.selected_or_first_available_variant.quantity_rule.min > 1 or card_product.selected_or_first_available_variant.quantity_rule.max != null or card_product.selected_or_first_available_variant.quantity_rule.increment > 1
                    assign qty_rules = true
                  endif
                -%}
                {%- if card_product.variants.size or qty_rules or check -%}
                  <modal-opener data-modal="#QuickAdd-{{ card_product.id }}">
                    <button
                      id="{{ product_form_id }}-submit"
                      type="submit"
                      name="add"
                      class="icon__feature button quick-add__submit"
                      aria-haspopup="dialog"
                      aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ card_product.id }}"
                      data-product-url="{{ card_product.url }}"
                    >
                      {% render 'icon' with 'eye' %}
                      {{ 'products.product.quick_view' | t }}
                      {%- render 'loading-spinner' -%}
                    </button>
                  </modal-opener>
                {%- endif -%}
              </div>
            {%- endif -%}
          </div>
        {%- endif -%}
      {%- endif -%}
    </div>
  </div>
</div>
